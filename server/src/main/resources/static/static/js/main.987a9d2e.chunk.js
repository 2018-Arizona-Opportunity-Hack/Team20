(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{60:function(e,t,n){e.exports=n(97)},67:function(e,t,n){},97:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),l=n(10),o=n.n(l),i=(n(65),n(11)),c=n(12),s=n(14),m=n(13),u=n(15),d=(n(67),n(101)),p=n(99),h=n(102),g=n(8),E=n(98),v=n(19),f=n.n(v),b=(n(47),function(e,t,n,a){return function(r){var l={eventId:n,organizationId:1,user:{name:e,phone:t}};f.a.post("/register",l).then(function(){a.push("/orgs/1/events")})}}),y=n(9),j=n(29),O=(n(24),n(59)),x=n(35),w=n.n(x),I=n(54),S=n(18),N=n(21),C=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={modal:!1,phoneNumValue:""},n.toggle=function(){localStorage.getItem("name")&&localStorage.getItem("phone")&&n.props.signupEvent(localStorage.getItem("name"),localStorage.getItem("phone"),n.props.event_ID,n.props.history),console.log("toggling"),n.setState({modal:!n.state.modal})},n.isPhoneNum=function(e){return!!e.match(/^[(]?[0-9]{3}[)]?[-\s.]?[0-9]{3}[-\/\s.]?[0-9]{4}$/)},n.isName=function(e){return!!e.match(/^[a-zA-Z\s]+$/)},n.handleNamePlaceholder=function(){return localStorage.getItem("name")?localStorage.getItem("name"):"Enter full name"},n.handlePhonePlaceholder=function(){return localStorage.getItem("phone")?localStorage.getItem("phone"):"Enter phone number (e.g. 555-555-5555)"},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e,t=this,n=function(){var e=Object(I.a)(w.a.mark(function e(n){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(300);case 2:t.isPhoneNum(n.phone)?t.isName(n.name)?(localStorage.setItem("event_ID",t.props.event_ID),localStorage.setItem("name",n.name),localStorage.setItem("phone",n.phone),t.props.signupEvent(n.name,n.phone,t.props.event_ID,t.props.history)):alert("Invalid name"):alert("Invalid phone number"),t.setState({modal:!t.state.modal});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a=function(e){return new Promise(function(t){return setTimeout(t,e)})},l=(e=y.e,function(t){var n=t.input,a=(t.meta.valid,Object(O.a)(t,["input","meta"]));return r.a.createElement(e,Object.assign({},n,a))}),o=function(e){var t=e.name;return r.a.createElement(N.a,{name:t,subscription:{error:!0,touched:!0}},function(e){var t=e.meta,n=t.touched,a=t.error;return n&&a?r.a.createElement(y.c,{valid:!a},a):null})};return this.props.events.length?r.a.createElement("div",null,r.a.createElement(y.b,{style:{backgroundColor:"green"},onClick:this.toggle},"Volunteer!"),r.a.createElement(S.a,{isOpen:this.state.modal,toggle:this.toggle},r.a.createElement(S.c,{toggle:this.toggle},"Volunteer Form"),r.a.createElement(S.b,null,r.a.createElement(N.b,{onSubmit:n,render:function(e){var n=e.handleSubmit,a=(e.form,e.submitting),i=e.pristine;e.values;return r.a.createElement("form",{onSubmit:n},r.a.createElement(y.d,null,r.a.createElement(y.f,null,"Name"),r.a.createElement(N.a,{name:"name",type:"text",component:l,placeholder:t.handleNamePlaceholder(),control:!0}),r.a.createElement(o,{name:"name"})),r.a.createElement(y.d,null,r.a.createElement(y.f,null,"Phone Number"),r.a.createElement(N.a,{name:"phone",component:l,placeholder:t.handlePhonePlaceholder(),control:!0}),r.a.createElement(o,{name:"phone"})),r.a.createElement(y.a,{justifyContent:""},r.a.createElement(y.b,{type:"submit",disabled:a||i,variant:"primary"},"Submit")))}})))):r.a.createElement("div",null,"Loading...")}}]),t}(a.Component),k={signupEvent:b},D=Object(h.a)(Object(g.b)(function(e){return{events:e.events}},k)(C)),A=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.events,t=[{style:{display:"flex",alignItems:"center"},Header:r.a.createElement("h3",null,"Name"),maxWidth:300,accessor:"title"},{style:{alignSelf:"center"},Header:r.a.createElement("h3",null,"Status"),accessor:"events",Cell:function(e){return function(e,t,n){var a,l=e/t*100;return l>=100?a="red":l>0&&l<50?a="green":l>=50&&l<=100&&(a="yellow"),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},r.a.createElement("span",{style:{color:a,transition:"all .3s ease"}},"\u25cf\xa0\xa0",r.a.createElement("span",{style:{color:"black"}},e," volunteers needed")),r.a.createElement("span",{style:{display:"flex",alignItems:"center",paddingRight:"20px"}},r.a.createElement(E.a,{to:"/dashboard/admin/event/".concat(n)},r.a.createElement(y.b,null,"Admin")),r.a.createElement(D,{event_ID:n})))}(e.original.remaining,e.original.desiredAttendees,e.original.id)}},{style:{display:"flex",alignItems:"center"},Header:r.a.createElement("h3",null,"Date"),maxWidth:300,accessor:"date"}];return e.length?(console.log(this.props),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{position:"absolute",left:"0",width:"250px",height:"100%",display:"flex",color:"white",flexDirection:"row",backgroundColor:"grey"}},r.a.createElement("div",{style:{width:"100%",height:"200px",textAlign:"center",marginTop:"5px",display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement("span",{style:{marginBottom:"50px"}},r.a.createElement("h2",{style:{color:"white"}}," Paz de Cristo "),r.a.createElement("h5",{style:{color:"white"}}," 124 n. random st "),r.a.createElement("span",null,"123-123-1312")),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}}))),r.a.createElement("div",{style:{margin:"0 0 0 250px"}},r.a.createElement("span",{style:{width:"100%"}},r.a.createElement(j.a,{style:{height:window.innerHeight},defaultPageSize:10,data:e,columns:t,className:"-striped -highlight"}))))):r.a.createElement("div",null,"Loading...")}}]),t}(a.Component),P={signupEvent:b},_=Object(g.b)(function(e){return{events:e.events}},P)(A),H=n(57),T=n.n(H),F=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.adminEvent,t=this.props.adminEvent.users,n=[{style:{display:"flex",alignItems:"center"},Header:r.a.createElement("h3",null,"Name"),maxWidth:300,accessor:"user.name"},{style:{display:"flex",alignItems:"center"},Header:r.a.createElement("h3",null,"Phone Number"),maxWidth:300,accessor:"user.phone"},{style:{alignSelf:"center"},Header:r.a.createElement("h3",null,"Attendance Probability"),accessor:"probability",Cell:function(e){return r.a.createElement(S.d,{animated:!0,color:100*e.original.probability<33?"danger":100*e.original.probability<66?"warning":100*e.original.probability<=100?"success":null,value:100*e.original.probability},100*e.original.probability,"%")}}];return t?(console.log(t),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{position:"absolute",left:"0",width:"250px",height:"100%",display:"flex",color:"white",flexDirection:"row",backgroundColor:"grey"}},r.a.createElement("div",{style:{width:"100%",height:"200px",textAlign:"center",marginTop:"5px",display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement("span",{style:{marginBottom:"50px"}},r.a.createElement("h2",{style:{color:"white"}},"   ",e.event.title),r.a.createElement("h5",{style:{color:"white"}},"   ",e.event.date)),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement("h2",{style:{color:"white"}},"Status"),r.a.createElement("h1",{style:{color:"white",fontWeight:"600",fontSize:"50px"}},e.numberGoing/e.event.desiredAttendees*100),r.a.createElement(T.a,{style:{backgroundColor:"white",borderRadius:"100%",width:"70%",margin:"0",padding:"0"},data:[{value:1,key:1,color:"#E38627"}],reveal:e.numberGoing/e.event.desiredAttendees*100,lineWidth:100,lengthAngle:180,animate:!0})))),r.a.createElement("div",{style:{margin:"0 0 0 250px"}},r.a.createElement("span",{style:{width:"100%"}},r.a.createElement(j.a,{style:{height:window.innerHeight},defaultPageSize:10,data:t,columns:n,className:"-striped -highlight"}))))):r.a.createElement("div",null,"Loading...")}}]),t}(a.Component),V=Object(g.b)(function(e){return{adminEvent:e.adminEvent[0]}},{})(F),z=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.event_id;if(!this.props.match)return r.a.createElement("div",null,"Loading...");this.props.fetchEventAdmin(e)}},{key:"render",value:function(){return this.props.adminEvent?r.a.createElement(r.a.Fragment,null,r.a.createElement(V,null)):r.a.createElement("div",null,"Loading...")}}]),t}(a.Component),W={fetchEventAdmin:function(e){return function(t){f.a.get("/event/".concat(e)).then(function(e){console.log(e.data),t({type:"FETCH_EVENT_ADMIN",payload:e.data})})}}},L=Object(h.a)(Object(g.b)(function(e){return{adminEvent:e.adminEvent[0]}},W)(z)),M=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchEvents()}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(d.a,null,r.a.createElement(p.a,{exact:!0,path:"/orgs/:id/events",component:_}),r.a.createElement(p.a,{exact:!0,path:"/dashboard/admin/event/:event_id",component:L})))}}]),t}(a.Component),B={fetchEvents:function(){return function(e){f.a.get("/orgs/1/events").then(function(t){e({type:"FETCH_EVENTS",payload:t.data})})}}},G=Object(h.a)(Object(g.b)(function(e){return{events:e.events}},B)(M)),J=n(16),R=n(58),$=n(20),Z=Object(J.c)({events:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_EVENTS":return Object($.a)(e).concat(Object($.a)(t.payload));default:return e}},adminEvent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_EVENT_ADMIN":return Object($.a)(e).concat([t.payload]);default:return e}}}),q=Object(J.e)(Z,Object(J.d)(Object(J.a)(R.a))),K=n(100);o.a.render(r.a.createElement(g.a,{store:q},r.a.createElement(K.a,null,r.a.createElement(G,null))),document.getElementById("root"))}},[[60,2,1]]]);
//# sourceMappingURL=main.987a9d2e.chunk.js.map